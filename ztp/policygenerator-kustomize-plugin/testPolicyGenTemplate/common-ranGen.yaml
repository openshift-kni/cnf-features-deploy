apiVersion: ran.openshift.io/v1
kind: PolicyGenTemplate
metadata:
  name: "common"
  namespace: "common-policies"
spec:
  bindingRules:
    common: "true"
  evaluationInterval:
    compliant: 20m
    noncompliant: 20s
  sourceFiles:
    # Create operators policies that will be installed in all clusters
    - fileName: sriov-operator/SriovSubscriptionNS.yaml
      policyName: "sriov-sub-policy"
      evaluationInterval:
        compliant: never
        noncompliant: 10s
    - fileName: sriov-operator/SriovSubscriptionOperGroup.yaml
      policyName: "sriov-sub-policy"
    - fileName: sriov-operator/SriovSubscription.yaml
      policyName: "sriov-sub-policy"
    - fileName: ptp-operator/PtpSubscriptionNS.yaml
      policyName: "ptp-sub-policy"
    - fileName: ptp-operator/PtpSubscriptionOperGroup.yaml
      policyName: "ptp-sub-policy"
    - fileName: ptp-operator/PtpSubscription.yaml
      policyName: "ptp-sub-policy"
    - fileName: cluster-logging/ClusterLogOperGroup.yaml
      policyName: "log-sub-policy"
    - fileName: cluster-logging/ClusterLogSubscription.yaml
      policyName: "log-sub-policy"
    - fileName: cluster-logging/ClusterLogServiceAccount.yaml
      policyName: "log-sub-policy"
    - fileName: cluster-logging/ClusterLogServiceAccountAuditBinding.yaml
      policyName: "log-sub-policy"
    - fileName: cluster-logging/ClusterLogServiceAccountInfrastructureBinding.yaml
      policyName: "log-sub-policy"
    - fileName: storage-lso/StorageNS.yaml
      policyName: "storage-sub-policy"
    - fileName: storage-lso/StorageOperGroup.yaml
      policyName: "storage-sub-policy"
    - fileName: storage-lso/StorageSubscription.yaml
      policyName: "storage-sub-policy"
    - fileName: storage-lso/StorageOperatorStatus.yaml
      policyName: "storage-sub-policy"
    - fileName: cluster-tuning/monitoring-configuration/ReduceMonitoringFootprint.yaml
      policyName: "mon-offload-policy"
    # - fileName: deprecated/AmqSubscriptionNS.yaml
    #   policyName: "amq-sub-policy"
    # - fileName: deprecated/AmqSubscriptionOperGroup.yaml
    #   policyName: "amq-sub-policy"
    # - fileName: deprecated/AmqSubscription.yaml
    #   policyName: "amq-sub-policy"
